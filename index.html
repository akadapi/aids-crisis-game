<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Voices of the AIDS Crisis</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background-image: url('figure1.avif');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      color: #fff;
      text-align: center;
    }
    #intro, #game, #ending-box {
      background: rgba(0, 0, 0, 0.7);
      margin: 50px auto;
      padding: 30px;
      border-radius: 12px;
      max-width: 700px;
    }
    button {
      background-color: #4CAF50;
      color: white;
      padding: 12px 24px;
      margin: 10px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #45a049;
    }
    #status {
      margin-bottom: 20px;
    }
    #story-text {
      margin: 20px 0;
      font-size: 18px;
      line-height: 1.6;
      text-align: left;
    }
    .choice-button {
      display: block;
      width: 100%;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div id="intro">
    <h1>Voices of the AIDS Crisis</h1>
    <p>Step into the shoes of those who lived through the AIDS epidemic of the 1980s and early 1990s. Your choices will shape your experience and show how everyday decisions had life-or-death consequences during this overlooked chapter of history.</p>
    <button onclick="selectCharacter('activist')">Be an Activist</button>
    <button onclick="selectCharacter('ally')">Be an Ally</button>
  </div>

  <div id="game" style="display: none;">
    <div id="status">
      <h2 id="character-title"></h2>
      <div id="score-box">Points: 0</div>
    </div>
    <div id="story-box">
      <p id="story-text"></p>
    </div>
    <div id="choice-box"></div>
  </div>

  <div id="ending-box" style="display: none;">
    <!-- Ending content will be generated by JavaScript -->
  </div>

  <script>
    let playerCharacter = null;
    let currentQuestion = 0;
    let score = 0;

    const stories = {
      activist: [
        {
          question: "NYC, 1987. Your neighborhood is being ravaged by AIDS. Three friends died last month. The government? Radio silence. You're at your first ACT UP meeting in a smoky community center. People are angry. Someone suggests storming the FDA to demand they approve drugs faster. \"We need to make noise. Get arrested if we have to.\" But others want to write op-eds instead.\n\nWhat's your move?",
          choices: [
            { text: "Yeah, I'm joining that protest", points: 3 },
            { text: "I'll write something powerful instead", points: 2 }
          ]
        },
        {
          question: "After the FDA protest made the papers, a reporter calls. \"I want to tell your story - anonymously of course. Put a human face on this thing.\" You know this could help people understand what's happening, but your boss watches the local news religiously. Your job isn't exactly secure.\n\nDo you talk to the reporter?",
          choices: [
            { text: "Share my story - people need to hear this", points: 3 },
            { text: "Too risky - I can't lose my job right now", points: 1 }
          ]
        },
        {
          question: "You've been helping out at a hospice on weekends. The nurse pulls you aside. \"That new patient in Room 4? He used to be a state rep who voted against every AIDS bill. Now his family's disowned him and he's dying alone.\" She needs someone to sit with him tonight.\n\nWhat do you do?",
          choices: [
            { text: "I'll sit with him. Nobody should die alone", points: 3 },
            { text: "Find someone else. He made his bed", points: 1 }
          ]
        },
        {
          question: "Tuesday night meeting. Tensions are high. Half the group wants to stage die-ins at St. Patrick's Cathedral to protest the church's stance against condoms and safe sex education. \"We need to be bold!\" someone shouts. Others think it's disrespectful.\n\nWhere do you stand?",
          choices: [
            { text: "The church needs to face what they're doing", points: 3 },
            { text: "Let's target City Hall instead", points: 2 }
          ]
        },
        {
          question: "You get a call from Merck. \"We admire your passion. We'd like you to speak at our conference - just tone down the rhetoric a bit.\" It's a huge platform, but they clearly want to control the message.\n\nDo you take their offer?",
          choices: [
            { text: "I'll work the system from inside", points: 2 },
            { text: "No way I'm being their token activist", points: 3 }
          ]
        },
        {
          question: "Mike got arrested at the hospital protest. The charges are BS - cops planted evidence. Everyone's looking at you to organize his defense fund and media campaign. You haven't slept properly in weeks and your own health isn't great.\n\nCan you take this on too?",
          choices: [
            { text: "I'll find the energy somehow", points: 3 },
            { text: "I'll help but someone else needs to lead", points: 2 }
          ]
        },
        {
          question: "Late night call from the arts collective. \"We're planning to project faces of people who've died onto government buildings. With their names and stories. It's not exactly legal.\" They need more photos and testimonials.\n\nAre you in?",
          choices: [
            { text: "Count me in - art can wake people up", points: 3 },
            { text: "Too risky - we need to work within the system", points: 1 }
          ]
        },
        {
          question: "After the meeting, a group of women and people of color corner you. \"This movement is still all about white gay men,\" they tell you. \"We need to restructure leadership or we're walking.\" Some of your friends think they're being divisive.\n\nYour response?",
          choices: [
            { text: "They're right - let's change our structure", points: 3 },
            { text: "Now's not the time for internal politics", points: 1 }
          ]
        },
        {
          question: "CNN wants you on Crossfire to talk about the epidemic. Their producer calls: \"We need you to stick to these talking points. Keep it brief, avoid blaming specific officials.\" You know that's not the full story.\n\nWhat will you do on air?",
          choices: [
            { text: "Say what needs to be said, scripted or not", points: 3 },
            { text: "Follow their script - at least I'll get airtime", points: 2 }
          ]
        },
        {
          question: "Your roommate sits you down. Eyes red. \"I tested positive. I need to tell my parents but they're super religious. They don't even know I'm gay.\" He looks terrified.\n\nWhat do you tell him?",
          choices: [
            { text: "I'll go with you when you tell them", points: 3 },
            { text: "Maybe wait until you're symptomatic", points: 1 }
          ]
        }
      ],

      ally: [
        {
          question: "College, 1985. That cool English professor everyone loves? The one who's openly gay? Some campus religious group is trying to get him fired for \"promoting an immoral lifestyle.\" Most students just walk past their protest. The campus LGBTQ+ group is holding a counter-rally. They ask if you'll speak.\n\nWhat do you do?",
          choices: [
            { text: "I'll speak - someone needs to stand up", points: 3 },
            { text: "I'll attend but not speak", points: 2 },
            { text: "Better stay out of it", points: 0 }
          ]
        },
        {
          question: "Your roommate just told you he's HIV positive. Word spreads fast in the dorms. People are giving you weird looks in the bathroom. Your RA pulls you aside: \"I can get you moved to another room, no questions asked.\" Your roommate doesn't know about this conversation.\n\nWhat's your next move?",
          choices: [
            { text: "Tell the RA to back off - we're fine", points: 3 },
            { text: "Take the room change quietly", points: 1 }
          ]
        },
        {
          question: "You signed up to help with an AIDS benefit concert. When your parents find out, they flip. \"Why are you involved with that? It's not your problem!\" Your dad threatens to cut off your spending money.\n\nDo you stay involved?",
          choices: [
            { text: "Yes - they can't control my conscience", points: 3 },
            { text: "Better back out for now", points: 1 }
          ]
        },
        {
          question: "Dream internship offer from Senator Miller's office! Then you discover he's voted against every AIDS funding bill and LGBTQ+ protection. Your friend with HIV says, \"Take it! Change things from inside.\"\n\nWhat do you choose?",
          choices: [
            { text: "Turn it down - I won't work for him", points: 3 },
            { text: "Take it and try to make changes", points: 2 }
          ]
        },
        {
          question: "Your gay friend Mark calls in tears. His partner of 5 years just died from AIDS complications. The funeral is tomorrow, but the family told Mark he's not welcome - they're pretending their son was straight. Mark begs you to come with him anyway.\n\nWill you go?",
          choices: [
            { text: "I'll be right by his side", points: 3 },
            { text: "Maybe we should respect the family's wishes", points: 1 }
          ]
        },
        {
          question: "Biology class. Some jock in the back makes a loud joke: \"What's the hardest part about having AIDS? Trying to convince your mom you're Haitian!\" Everyone laughs. The professor just continues like nothing happened.\n\nWhat's your response?",
          choices: [
            { text: "Call him out right there", points: 3 },
            { text: "Talk to the professor after class", points: 2 },
            { text: "Best not to make a scene", points: 0 }
          ]
        },
        {
          question: "They're displaying the AIDS Memorial Quilt on campus next weekend. They desperately need volunteers. Problem is, it's during finals prep and you've got a huge exam Monday.\n\nHow do you handle this?",
          choices: [
            { text: "The quilt comes first - I'll cram later", points: 3 },
            { text: "Help for a few hours, then study", points: 2 }
          ]
        },
        {
          question: "You're grabbing lunch when you see three guys cornering your friend Tyler, calling him AIDS-related slurs. Tyler's gay but hasn't done anything to these jerks. Nobody else is stepping in.\n\nWhat do you do?",
          choices: [
            { text: "Get between them and tell them to back off", points: 3 },
            { text: "Find campus security", points: 2 },
            { text: "Not my fight", points: 0 }
          ]
        },
        {
          question: "You're volunteering at the campus blood drive when you overhear the staff turn away your openly gay classmate. \"CDC guidelines,\" they say. \"Men who have sex with men can't donate.\" Your classmate looks humiliated.\n\nHow do you respond?",
          choices: [
            { text: "Challenge this policy - it's discriminatory", points: 3 },
            { text: "Say nothing - they're just following rules", points: 0 }
          ]
        },
        {
          question: "The editor of the campus paper asks you to write something about World AIDS Day. \"You have friends in that community, right? We need content by tomorrow.\"\n\nWhat kind of article do you write?",
          choices: [
            { text: "A personal story about my friend who died", points: 3 },
            { text: "Just the facts and statistics", points: 2 }
          ]
        }
      ]
    };

    function selectCharacter(character) {
      playerCharacter = character;
      currentQuestion = 0;
      score = 0;

      document.getElementById('intro').style.display = 'none';
      document.getElementById('game').style.display = 'block';
      document.getElementById('ending-box').style.display = 'none';
      
      // Set character title with proper capitalization
      document.getElementById('character-title').innerText = 
        `Character: ${character.charAt(0).toUpperCase() + character.slice(1)}`;
      
      showStory();
    }

    function showStory() {
      const story = stories[playerCharacter];

      if (!story || currentQuestion >= story.length) {
        endGame();
        return;
      }

      const current = story[currentQuestion];
      document.getElementById('story-text').textContent = current.question;

      const choiceBox = document.getElementById('choice-box');
      choiceBox.innerHTML = '';

      current.choices.forEach((choice, index) => {
        const btn = document.createElement('button');
        btn.textContent = choice.text;
        btn.className = "choice-button";
        btn.onclick = () => makeChoice(index);
        choiceBox.appendChild(btn);
      });

      document.getElementById('score-box').textContent = `Points: ${score}`;
    }

    function makeChoice(choiceIndex) {
      const current = stories[playerCharacter][currentQuestion];
      score += current.choices[choiceIndex].points;
      currentQuestion++;
      showStory();
    }

    function endGame() {
      document.getElementById('game').style.display = 'none';
      document.getElementById('ending-box').style.display = 'block';

      let message = "";
      if (score >= 25) {
        message = "You were a total badass. You put your body on the line when it mattered, and people's lives were saved because of people like you. History remembers the brave ones.";
      } else if (score >= 18) {
        message = "You did more than most. Not everyone can be on the front lines, but you showed up when it counted and made a real difference.";
      } else if (score >= 12) {
        message = "You helped in your own way. Small acts of kindness and courage add up, even if they don't make the history books.";
      } else {
        message = "You played it safe when others took risks. It's human to be scared - but silence = death, as ACT UP would say.";
      }

      document.getElementById('ending-box').innerHTML = `
        <h2>Game Over</h2>
        <p>Final Score: ${score} out of 30</p>
        <p>${message}</p>
        <button onclick="restart()">Play Again</button>
      `;
    }

    function restart() {
      document.getElementById('intro').style.display = 'block';
      document.getElementById('ending-box').style.display = 'none';
      document.getElementById('game').style.display = 'none';
    }
  </script>
</body>
</html>
